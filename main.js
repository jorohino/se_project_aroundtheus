!function(){"use strict";class e{constructor(e,t,s,r){let{name:o,link:i,_id:n}=e;this._name=o,this._link=i,this._id=n,this._cardSelector=t,this._handleImageClick=s,this._handleDeleteButton=r}_setEventListeners(){this._likeButton.addEventListener("click",(()=>{this._handleLikeButton()})),this._deleteButton.addEventListener("click",(()=>{this._handleDeleteButton(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}_handleLikeButton(){this._likeButton.classList.toggle("card__like-button_active")}removeCard(){this._cardEl.remove(),this._cardEl=null}getView(){return this._cardEl=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._likeButton=this._cardEl.querySelector(".card__like-button"),this._deleteButton=this._cardEl.querySelector(".card__delete-button"),this._cardImageEl=this._cardEl.querySelector(".card__image"),this._cardTitleEl=this._cardEl.querySelector(".card__title"),this._cardImageEl.src=this._link,this._cardImageEl.alt=this._name,this._cardTitleEl.textContent=this._name,this._setEventListeners(),this._cardEl}}class t{constructor(e,t){this.formEl=t,this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inputs=Array.from(this.formEl.querySelectorAll(this._inputSelector)),this._submitButton=this.formEl.querySelector(this._submitButtonSelector),this._errorClass=e.errorClass,this._inputErrorClass=e.inputErrorClass,this._inactiveButtonClass=e.inactiveButtonClass}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e,e.validationMessage)}_hasInvalidInput(){return this._inputs.some((e=>!e.validity.valid))}_hideInputError(e){const t=this.formEl.querySelector(`#${e.id}-error`);t&&(e.classList.remove(this._errorClass),e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent="")}_showInputError(e,t){const s=this.formEl.querySelector(`#${e.id}-error`);s&&(e.classList.add(this._errorClass),e.classList.add(this._inputErrorClass),s.textContent=t,s.classList.add(this._errorClass))}_toggleButtonState(){this._hasInvalidInput()?this._disableButton():(this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1)}_disableButton(){this._submitButton.disabled=!0,this._submitButton.classList.add(this._inactiveButtonClass)}setEventListeners(){this._inputs.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this.formEl.addEventListener("submit",(e=>{e.preventDefault(),this._disableButton()})),this.setEventListeners()}resetValidation(){this._inputs.forEach((e=>{this._hideInputError(e)})),this._toggleButtonState()}}class s{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close-button"))&&this.close()}))}}class r extends s{constructor(e,t){super({popupSelector:e}),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputs=this._popupForm.querySelectorAll("input"),this._popupSave=this._popupElement.querySelector(".modal__save")}close(){super.close()}_getInputValues(){const e={};return this._inputs.forEach((t=>{e[t.name]=t.value})),e}setInputValues(e){this._inputs.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){super.setEventListeners(),this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues()),this.close()}))}setSaving(e){this._popupSave.textContent=e?"Saving...":"Save"}}document.querySelectorAll(".modal");const o=document.querySelector("#profile__edit-button"),i=(document.querySelector("#edit-modal"),document.querySelector("#profile__name"),document.querySelector("#form__name-input"),document.querySelector("#form__description-input"),document.querySelector("#profile__description"),document.forms["edit-modal__form"],document.querySelector(".profile__pfp-button")),n=document.querySelector("#profile__add-button"),a=(document.querySelector("#add-modal"),document.forms["add-modal__form"]),l=(document.querySelector("#form__title-input"),document.querySelector("#form__url-input"),document.querySelector("#cards__list"),document.querySelector("#card__title"),document.querySelector("#card__image"),new class{constructor(e){this.baseUrl=e.baseUrl,this.headers=e.headers}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this.baseUrl}/cards`,{headers:this.headers}).then(this._checkResponse)}getUserInfo(){return fetch(`${this.baseUrl}/users/me`,{headers:this.headers}).then(this._checkResponse)}updateUserInfo(e){return fetch(`${this.baseUrl}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.description})}).then(this._checkResponse)}updateUserAvatar(e){return fetch(`${this.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this.headers,body:JSON.stringify({avatar:e.avatar})}).then(this._checkResponse)}createCard(e){return fetch(`${this.baseUrl}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify({name:e.title,link:e.url})}).then(this._checkResponse)}deleteCard(e){return fetch(`${this.baseUrl}/cards/${e}`,{method:"DELETE",headers:this.headers}).then(this._checkResponse)}likeCard(e){return fetch(`${this.baseUrl}/cards/likes/${e}`,{method:"PUT",headers:this.headers}).then(this._checkResponse)}unlikeCard(e){return fetch(`${this.baseUrl}/cards/likes/${e}`,{method:"DELETE",headers:this.headers}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c91d1d7e-9726-43c4-acb8-289510ab9429","Content-Type":"application/json"}})),c=new class{constructor(e){let{profileNameSelector:t,profileJobSelector:s,avatarSelector:r}=e;this._profileNameEl=document.querySelector(t),this._profileDescriptionEl=document.querySelector(s),this._avatarEl=document.querySelector(r)}getUserInfo(){return console.log("Getting user info:",this._profileNameEl.textContent,this._profileDescriptionEl.textContent,this._avatarEl?this._avatarEl.src:"Avatar element not found."),{name:this._profileNameEl.textContent,description:this._profileDescriptionEl.textContent,avatar:this._avatarEl}}setUserInfo(e){let{name:t,description:s}=e;console.log("Setting user info",t,s),this._profileNameEl.textContent=t,this._profileDescriptionEl.textContent=s}setAvatarUrl(e){console.log("Setting avatar url",e),e?this._avatarEl.src=e:console.error("Avatar element not found.")}}({profileNameSelector:"#profile__name",profileJobSelector:"#profile__description",avatarSelector:"#profile__pfp"}),d=new r("#edit-modal",(e=>{d.setSaving(!0),l.updateUserInfo(e).then((e=>{c.setUserInfo({name:e.name,description:e.about}),d.close()})).catch((e=>{console.error(e)})).finally((()=>{d.setSaving(!1)}))}));d.setEventListeners();const h=new r("#add-modal",(e=>{l.createCard(e).then((e=>{const{name:t,link:s,_id:r}=e,o=f({name:t,link:s,_id:r});p.addItem(o),h.close(),a.reset()})).catch((e=>{console.error(e)}))}));h.setEventListeners();const u=new r("#delete-modal",(()=>{u.card&&l.deleteCard(u.card._id).then((()=>{u.card.removeCard(),u.close()})).catch((e=>{console.error("Error deleting card:",e)}))}));u.setEventListeners();const _=new class extends s{constructor(e){super({popupSelector:e}),this._title=this._popupElement.querySelector(".popup-modal__title"),this._image=this._popupElement.querySelector(".popup-modal__image")}open(e){let{name:t,link:s}=e;this._title.textContent=t,this._image.alt=t,this._image.src=s,super.open()}}("#popup-modal");_.setEventListeners();const m=new r("#edit-avatar-modal",(e=>{console.log("Updating avatar with link:",e.avatar),l.updateUserAvatar({avatar:e.avatar}).then((e=>{c.setAvatarUrl(e.avatar),m.close()})).catch((e=>{console.error(e)}))}));m.setEventListeners();const p=new class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){console.log("Rendering items"),this._items.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){this._container.prepend(e)}}({items:[{name:"Hartford",link:"https://images.unsplash.com/photo-1611008715758-e56c60b9476d?q=80&w=3774&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Boston",link:"https://images.unsplash.com/photo-1573524949339-b830334a31ee?q=80&w=3862&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"New York City",link:"https://images.unsplash.com/photo-1602940659805-770d1b3b9911?q=80&w=3864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Philadelphia",link:"https://images.unsplash.com/photo-1517009572053-93fb56dfef49?q=80&w=3090&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Atlanta",link:"https://images.unsplash.com/photo-1579824966561-2e4d9f79fe9b?q=80&w=3774&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Miami",link:"https://images.unsplash.com/photo-1533106497176-45ae19e68ba2?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}],renderer:f},"#cards__list");function f(t){return console.log("Creating card with:",t),new e(t,"#cards__list-template",E,v).getView()}function E(e){let{name:t,link:s}=e;_.open({name:t,link:s})}function v(e){u.card=e,u.open()}p.renderItems(),o.addEventListener("click",(()=>{const e=c.getUserInfo();d.setInputValues({name:e.name,description:e.description.trim()}),d.open()})),n.addEventListener("click",(()=>{h.open()})),i.addEventListener("click",(()=>{m.open()}));const b={};var S;S={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(S.formSelector)).forEach((e=>{const s=new t(S,e),r=e.getAttribute("name");b[r]=s,s.enableValidation()})),l.getInitialCards().then((e=>{console.log(e),e.forEach((e=>{p.addItem(f(e))}))})).catch((e=>{console.error(e)})),l.getUserInfo().then((e=>{c.setUserInfo({name:e.name,description:e.about}),c.setAvatarUrl(e.avatar)})).catch((e=>{console.error(e)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bkYsaUJBQWlCLFNBQVMsS0FDbkMsTUFBTThKLEVBQWN0QyxFQUFTbEIsY0FDN0IrQixFQUFhdEQsZUFBZSxDQUMxQjFGLEtBQU15SyxFQUFZekssS0FDbEJ3SCxZQUFhaUQsRUFBWWpELFlBQVlrRCxTQUV2QzFCLEVBQWF0RSxNQUFNLElBR3JCdUIsRUFBVXRGLGlCQUFpQixTQUFTLEtBQ2xDeUksRUFBYTFFLE1BQU0sSUFHckJxQixFQUF1QnBGLGlCQUFpQixTQUFTLEtBQy9Da0osRUFBZ0JuRixNQUFNLElBSXhCLE1BQU1pRyxFQUFpQixDQUFDLEVBRUU3SSxRRDlLSixDQUNwQjhJLGFBQWMsZUFDZDNJLGNBQWUsZ0JBQ2ZFLHFCQUFzQixlQUN0Qlcsb0JBQXFCLHVCQUNyQkYsZ0JBQWlCLDBCQUNqQkYsV0FBWSx3QkN5S0tMLE1BQU1DLEtBQUtqQixTQUFTa0IsaUJBQWlCVCxFQUFPOEksZUFDcEQ1RyxTQUFTakMsSUFDaEIsTUFBTThJLEVBQVksSUFBSWhKLEVBQWNDLEVBQVFDLEdBQ3RDK0ksRUFBVy9JLEVBQU9nSixhQUFhLFFBQ3JDSixFQUFlRyxHQUFZRCxFQUMzQkEsRUFBVTVHLGtCQUFrQixJQVFoQ2tDLEVBQ0dXLGtCQUNBRSxNQUFNZ0UsSUFDTHRDLFFBQVFDLElBQUlxQyxHQUNaQSxFQUFNaEgsU0FBU3lGLElBQ2JILEVBQVlDLFFBQVE1QixFQUFXOEIsR0FBTSxHQUNyQyxJQUVIUixPQUFPQyxJQUNOUixRQUFRSyxNQUFNRyxFQUFJLElBSXRCL0MsRUFDR2MsY0FDQUQsTUFBTXJCLElBQ0x3QyxFQUFTUyxZQUFZLENBQ25CNUksS0FBTTJGLEVBQUszRixLQUNYd0gsWUFBYTdCLEVBQUs0QixRQUVwQlksRUFBU1csYUFBYW5ELEVBQUsrQixPQUFPLElBRW5DdUIsT0FBT0MsSUFDTlIsUUFBUUssTUFBTUcsRUFBSSxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9zZV9wcm9qZWN0X2Fyb3VuZHRoZXVzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vc2VfcHJvamVjdF9hcm91bmR0aGV1cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3NlX3Byb2plY3RfYXJvdW5kdGhldXMvLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgeyBuYW1lLCBsaW5rLCBfaWQgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVCdXR0b25cclxuICApIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fbGluayA9IGxpbms7XHJcbiAgICB0aGlzLl9pZCA9IF9pZDtcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uID0gaGFuZGxlRGVsZXRlQnV0dG9uO1xyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQnV0dG9uKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYW5kbGVMaWtlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgcmVtb3ZlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbC5yZW1vdmUoKTtcclxuICAgIHRoaXMuX2NhcmRFbCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRWaWV3KCkge1xyXG4gICAgdGhpcy5fY2FyZEVsID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1idXR0b25cIik7XHJcbiAgICB0aGlzLl9kZWxldGVCdXR0b24gPSB0aGlzLl9jYXJkRWwucXVlcnlTZWxlY3RvcihcIi5jYXJkX19kZWxldGUtYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWwucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGl0bGVcIik7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWw7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0b3Ige1xyXG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybUVsKSB7XHJcbiAgICB0aGlzLmZvcm1FbCA9IGZvcm1FbDtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xyXG4gICAgdGhpcy5faW5wdXRzID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpIHtcclxuICAgIGlmICghaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRzLnNvbWUoKGlucHV0KSA9PiAhaW5wdXQudmFsaWRpdHkudmFsaWQpO1xyXG4gIH1cclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0KSB7XHJcbiAgICBjb25zdCBlcnJvckVsID0gdGhpcy5mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XHJcbiAgICBpZiAoIWVycm9yRWwpIHJldHVybjtcclxuXHJcbiAgICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXQsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgY29uc3QgZXJyb3JFbCA9IHRoaXMuZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xyXG4gICAgaWYgKCFlcnJvckVsKSByZXR1cm47XHJcblxyXG4gICAgaW5wdXQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcclxuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWwudGV4dENvbnRlbnQgPSBlcnJvck1lc3NhZ2U7XHJcbiAgICBlcnJvckVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fZGlzYWJsZUJ1dHRvbigpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICB9XHJcblxyXG4gIF9kaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXQpO1xyXG4gICAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2Rpc2FibGVCdXR0b24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIHJlc2V0VmFsaWRhdGlvbigpIHtcclxuICAgIHRoaXMuX2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvLyBJdCBoYXMgcHVibGljIG1ldGhvZHMgY2FsbGVkIG9wZW4oKSBhbmQgY2xvc2UoKSB0byBvcGVuIGFuZCBjbG9zZSB0aGUgcG9wdXAuXHJcbiAgLy8gVGhlIG9wZW4oKSBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBpbiB0aGUgcHJlZXhpc3RpbmcgZXZlbnQgaGFuZGxlcnMgaW4gaW5kZXguanMuXHJcblxyXG4gIG9wZW4oKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICAvLyBJdCBoYXMgYSBwcml2YXRlIG1ldGhvZCBuYW1lZCBfaGFuZGxlRXNjQ2xvc2UoKSB0aGF0IHN0b3JlcyB0aGUgbG9naWMgZm9yIGNsb3NpbmcgdGhlIHBvcHVwXHJcbiAgLy8gYnkgcHJlc3NpbmcgdGhlIEVzYyBrZXkuXHJcblxyXG4gIF9oYW5kbGVFc2NDbG9zZShldnQpIHtcclxuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEl0IGhhcyBhIHB1YmxpYyBtZXRob2QgbmFtZWQgc2V0RXZlbnRMaXN0ZW5lcnMoKSB0aGF0IGFkZHMgYSBjbGljayBldmVudCBsaXN0ZW5lciB0byB0aGUgY2xvc2VcclxuICAvLyBpY29uIG9mIHRoZSBwb3B1cC4gVGhlIG1vZGFsIHdpbmRvdyBzaG91bGQgYWxzbyBjbG9zZSB3aGVuIHVzZXJzIGNsaWNrIG9uIHRoZSBzaGFkZWQgYXJlYSBhcm91bmRcclxuICAvLyB0aGUgZm9ybS5cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XHJcbiAgICAgIGlmIChcclxuICAgICAgICBlLnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxyXG4gICAgICAgIGUudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZS1idXR0b25cIilcclxuICAgICAgKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuXHJcbi8vIFlvdSB3b27igJl0IGluc3RhbnRpYXRlIHlvdXIgUG9wdXAgY2xhc3MgZGlyZWN0bHkgaW4gaW5kZXguanM7IGluc3RlYWQsIHlvdeKAmWxsIGluc3RhbnRpYXRlIGl0c1xyXG4vLyBjaGlsZHJlbiBjbGFzc2VzLCBhcyBkZXNjcmliZWQgYmVsb3cgKFBvcHVwV2l0aEltYWdlICsgUG9wdXBXaXRoRm9ybSBjbGFzc2VzKS5cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIC8vIEl0IGFjY2VwdHMgdHdvIGFyZ3VtZW50czogdGhlIHBvcHVwIHNlbGVjdG9yIGFuZCBhIGNhbGxiYWNrIGZ1bmN0aW9uLFxyXG4gIC8vIHdoaWNoIFBvcHVwV2l0aEZvcm0gY2FsbHMgd2hlbiB0aGUgZm9ybeKAmXMgc3VibWl0IGV2ZW50IGZpcmVzLlxyXG5cclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XHJcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgdGhpcy5faW5wdXRzID0gdGhpcy5fcG9wdXBGb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCJpbnB1dFwiKTtcclxuICAgIHRoaXMuX3BvcHVwU2F2ZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlXCIpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH1cclxuXHJcbiAgLy8gSXQgaGFzIGEgcHJpdmF0ZSBtZXRob2QgbmFtZWQgX2dldElucHV0VmFsdWVzKCksIHdoaWNoIGNvbGxlY3RzIGRhdGEgZnJvbSBhbGwgdGhlIGlucHV0IGZpZWxkcyBhbmRcclxuICAvLyByZXR1cm5zIGl0IGFzIGFuIG9iamVjdC4gVGhpcyBkYXRhIHNob3VsZCB0aGVuIGJlIHBhc3NlZCB0byB0aGUgc3VibWlzc2lvbiBoYW5kbGVyIGFzIGFuIGFyZ3VtZW50LlxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybURhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmb3JtRGF0YTtcclxuICB9XHJcblxyXG4gIC8vIFJldmlld2VyIHN1Z2dlc3RlZCBtZXRob2QgdG8gaW5zZXJ0IGRhdGEgaW50byBpbnB1dHNcclxuICBzZXRJbnB1dFZhbHVlcyhkYXRhKSB7XHJcbiAgICB0aGlzLl9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgaW5wdXQudmFsdWUgPSBkYXRhW2lucHV0Lm5hbWVdO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICAvLyBJdCBvdmVycmlkZXMgdGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgcGFyZW50IG1ldGhvZC4gVGhlIHNldEV2ZW50TGlzdGVuZXJzKCkgbWV0aG9kIG9mIHRoZSBQb3B1cFdpdGhGb3JtXHJcbiAgLy8gY2xhc3Mgc2hvdWxkIGFkZCBhIHN1Ym1pdCBldmVudCBsaXN0ZW5lciB0byB0aGUgZm9ybSBhbmQgY2FsbCB0aGUgc2V0RXZlbnRMaXN0ZW5lcnMoKSBtZXRob2Qgb2YgdGhlXHJcbiAgLy8gcGFyZW50IGNsYXNzLlxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICB0aGlzLl9wb3B1cEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0U2F2aW5nKGlzU2F2aW5nKSB7XHJcbiAgICBpZiAoaXNTYXZpbmcpIHtcclxuICAgICAgdGhpcy5fcG9wdXBTYXZlLnRleHRDb250ZW50ID0gXCJTYXZpbmcuLi5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3BvcHVwU2F2ZS50ZXh0Q29udGVudCA9IFwiU2F2ZVwiO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCIvKiAgICAgIC0tLUlOSVRJQUwgQ0FSRFMtLS0gICAgICovXHJcbmV4cG9ydCBjb25zdCBpbml0aWFsQ2FyZHMgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogXCJIYXJ0Zm9yZFwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTYxMTAwODcxNTc1OC1lNTZjNjBiOTQ3NmQ/cT04MCZ3PTM3NzQmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkJvc3RvblwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTU3MzUyNDk0OTMzOS1iODMwMzM0YTMxZWU/cT04MCZ3PTM4NjImYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk5ldyBZb3JrIENpdHlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE2MDI5NDA2NTk4MDUtNzcwZDFiM2I5OTExP3E9ODAmdz0zODY0JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQaGlsYWRlbHBoaWFcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MTcwMDk1NzIwNTMtOTNmYjU2ZGZlZjQ5P3E9ODAmdz0zMDkwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJBdGxhbnRhXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNTc5ODI0OTY2NTYxLTJlNGQ5Zjc5ZmU5Yj9xPTgwJnc9Mzc3NCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTWlhbWlcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE1MzMxMDY0OTcxNzYtNDVhZTE5ZTY4YmEyP3E9ODAmdz0zODcwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbl07XHJcblxyXG5jb25zdCBjYXJkRGF0YSA9IHtcclxuICBuYW1lOiBcIk1pYW1pXCIsXHJcbiAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTUzMzEwNjQ5NzE3Ni00NWFlMTllNjhiYTI/cT04MCZ3PTM4NzAmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbn07XHJcblxyXG4vKiAgLS0gQ29uZmlnIERFQ0xBUkFUSU9OUy0tICovXHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2Zvcm1cIixcclxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX3NhdmVcIixcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19zYXZlX2Rpc2FibGVkXCIsXHJcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZXJyb3JfdmlzaWJsZVwiLFxyXG59O1xyXG5cclxuLyogLS0gTW9kYWwgREVDTEFSQVRJT05TIC0tICovXHJcblxyXG5leHBvcnQgY29uc3QgbW9kYWxzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbFwiKTtcclxuXHJcbi8qIC1Qcm9maWxlIE1vZGFsIERFQ0xBUkFUSU9OUy0gKi9cclxuXHJcbmV4cG9ydCBjb25zdCBlZGl0QnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19lZGl0LWJ1dHRvblwiKTtcclxuZXhwb3J0IGNvbnN0IGVkaXRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbFwiKTtcclxuXHJcbmV4cG9ydCBjb25zdCBwcm9maWxlTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZV9fbmFtZVwiKTtcclxuZXhwb3J0IGNvbnN0IHByb2ZpbGVOYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1fX25hbWUtaW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjZm9ybV9fZGVzY3JpcHRpb24taW5wdXRcIlxyXG4pO1xyXG5leHBvcnQgY29uc3QgcHJvZmlsZURlc2NyaXB0aW9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIiNwcm9maWxlX19kZXNjcmlwdGlvblwiXHJcbik7XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlRWRpdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcImVkaXQtbW9kYWxfX2Zvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBwcm9maWxlQXZhdGFyQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuICBcIi5wcm9maWxlX19wZnAtYnV0dG9uXCJcclxuKTtcclxuXHJcbi8qICAtLUNhcmQgTGlzdCBNb2RhbCBERUNMQVJBVElPTlMtLSAgKi9cclxuXHJcbmV4cG9ydCBjb25zdCBhZGRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2FkZC1idXR0b25cIik7XHJcbmV4cG9ydCBjb25zdCBhZGRNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsXCIpO1xyXG5leHBvcnQgY29uc3QgYWRkTW9kYWxGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJhZGQtbW9kYWxfX2Zvcm1cIl07XHJcbmV4cG9ydCBjb25zdCBjYXJkVGl0bGVJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZm9ybV9fdGl0bGUtaW5wdXRcIik7XHJcbmV4cG9ydCBjb25zdCBjYXJkVVJMSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2Zvcm1fX3VybC1pbnB1dFwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzTGlzdEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NhcmRzX19saXN0XCIpO1xyXG5leHBvcnQgY29uc3QgY2FyZFRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkX190aXRsZVwiKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZF9faW1hZ2VcIik7XHJcblxyXG4vKiBFYXJseSBWZXJzaW9uIERlY2xhcmF0aW9ucyAtLSBERUFEICovXHJcblxyXG4vKiBjb25zdCBjbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdFN1Ym1pdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1tb2RhbF9fc2F2ZVwiKTtcclxuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWwucXVlcnlTZWxlY3RvcihcclxuICBcIiNlZGl0LW1vZGFsX19jbG9zZS1idXR0b25cIlxyXG4pO1xyXG5cclxuY29uc3QgYWRkTW9kYWxDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsX19jbG9zZS1idXR0b25cIik7XHJcbmNvbnN0IGFkZE1vZGFsU2F2ZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLW1vZGFsX19zYXZlXCIpO1xyXG5cclxuY29uc3QgcG9wdXBNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9wdXAtbW9kYWxcIik7XHJcbmNvbnN0IHBvcHVwTW9kYWxDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgXCIjcG9wdXAtbW9kYWxfX2Nsb3NlLWJ1dHRvblwiXHJcbik7XHJcbmNvbnN0IHBvcHVwTW9kYWxJbWFnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucG9wdXAtbW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBwb3B1cE1vZGFsVGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW1vZGFsX190aXRsZVwiKTtcclxuXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGNhcmRzTGlzdEVsZW1lbnRcclxuICAucXVlcnlTZWxlY3RvcihcIiNjYXJkc19fbGlzdC10ZW1wbGF0ZVwiKVxyXG4gIC5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKTtcclxuKi9cclxuIiwiLy8gSW1wb3J0IHN0eWxlc2hlZXQgYW5kIGNsYXNzXHJcblxyXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5cclxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xyXG5cclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5cclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5cclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcblxyXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XHJcblxyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuXHJcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XHJcblxyXG5pbXBvcnQge1xyXG4gIGluaXRpYWxDYXJkcyxcclxuICBjb25maWcsXHJcbiAgZWRpdEJ1dHRvbixcclxuICBhZGRCdXR0b24sXHJcbiAgcHJvZmlsZU5hbWVJbnB1dCxcclxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcclxuICBhZGRNb2RhbEZvcm0sXHJcbiAgY2FyZFRpdGxlSW5wdXQsXHJcbiAgY2FyZFVSTElucHV0LFxyXG4gIHByb2ZpbGVBdmF0YXJDb250YWluZXIsXHJcbn0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBBUElcclxuY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiYzkxZDFkN2UtOTcyNi00M2M0LWFjYjgtMjg5NTEwYWI5NDI5XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuXHJcbi8vIEluaXRpYWxpemUgY29tcG9uZW50c1xyXG5cclxuY29uc3QgdXNlckluZm8gPSBuZXcgVXNlckluZm8oe1xyXG4gIHByb2ZpbGVOYW1lU2VsZWN0b3I6IFwiI3Byb2ZpbGVfX25hbWVcIixcclxuICBwcm9maWxlSm9iU2VsZWN0b3I6IFwiI3Byb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXHJcbiAgYXZhdGFyU2VsZWN0b3I6IFwiI3Byb2ZpbGVfX3BmcFwiLFxyXG59KTtcclxuXHJcbmNvbnN0IHByb2ZpbGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtbW9kYWxcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgcHJvZmlsZVBvcHVwLnNldFNhdmluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVVc2VySW5mbyhmb3JtRGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0VXNlckluZm8oe1xyXG4gICAgICAgIG5hbWU6IHJlcy5uYW1lLFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiByZXMuYWJvdXQsXHJcbiAgICAgIH0pO1xyXG4gICAgICBwcm9maWxlUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBwcm9maWxlUG9wdXAuc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59KTtcclxucHJvZmlsZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBhZGRDYXJkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNhZGQtbW9kYWxcIiwgKGZvcm1EYXRhKSA9PiB7XHJcbiAgYXBpXHJcbiAgICAuY3JlYXRlQ2FyZChmb3JtRGF0YSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgY29uc3QgeyBuYW1lLCBsaW5rLCBfaWQgfSA9IHJlcztcclxuICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKHsgbmFtZSwgbGluaywgX2lkIH0pO1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNhcmRFbGVtZW50KTtcclxuICAgICAgYWRkQ2FyZFBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIGFkZE1vZGFsRm9ybS5yZXNldCgpO1xyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcclxuICAgIH0pO1xyXG59KTtcclxuYWRkQ2FyZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBkZWxldGVQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2RlbGV0ZS1tb2RhbFwiLCAoKSA9PiB7XHJcbiAgaWYgKGRlbGV0ZVBvcHVwLmNhcmQpIHtcclxuICAgIGFwaVxyXG4gICAgICAuZGVsZXRlQ2FyZChkZWxldGVQb3B1cC5jYXJkLl9pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGRlbGV0ZVBvcHVwLmNhcmQucmVtb3ZlQ2FyZCgpO1xyXG4gICAgICAgIGRlbGV0ZVBvcHVwLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGRlbGV0aW5nIGNhcmQ6XCIsIGVycik7XHJcbiAgICAgIH0pO1xyXG4gIH1cclxufSk7XHJcbmRlbGV0ZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwb3B1cC1tb2RhbFwiKTtcclxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmNvbnN0IGVkaXRBdmF0YXJQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2VkaXQtYXZhdGFyLW1vZGFsXCIsIChmb3JtRGF0YSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiVXBkYXRpbmcgYXZhdGFyIHdpdGggbGluazpcIiwgZm9ybURhdGEuYXZhdGFyKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVVc2VyQXZhdGFyKHsgYXZhdGFyOiBmb3JtRGF0YS5hdmF0YXIgfSlcclxuICAgIC50aGVuKChyZXMpID0+IHtcclxuICAgICAgdXNlckluZm8uc2V0QXZhdGFyVXJsKHJlcy5hdmF0YXIpO1xyXG4gICAgICBlZGl0QXZhdGFyUG9wdXAuY2xvc2UoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KTtcclxufSk7XHJcbmVkaXRBdmF0YXJQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgY2FyZFNlY3Rpb24gPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IGNyZWF0ZUNhcmQsXHJcbiAgfSxcclxuICBcIiNjYXJkc19fbGlzdFwiXHJcbik7XHJcbmNhcmRTZWN0aW9uLnJlbmRlckl0ZW1zKCk7XHJcblxyXG4vKiAgICAgIC0tLUZVTkNUSU9OUy9FVkVOVCBIQU5ETEVSUy9FVkVOVCBMSVNURU5FUlMtLS0gICAgICovXHJcblxyXG4vKiAgLS1DYXJkIHJlbmRlcmluZyBmdW5jdGlvbnMtLSAgKi9cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcclxuICBjb25zb2xlLmxvZyhcIkNyZWF0aW5nIGNhcmQgd2l0aDpcIiwgY2FyZERhdGEpO1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGNhcmREYXRhLFxyXG4gICAgXCIjY2FyZHNfX2xpc3QtdGVtcGxhdGVcIixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVCdXR0b25cclxuICApO1xyXG4gIHJldHVybiBjYXJkLmdldFZpZXcoKTtcclxufVxyXG5cclxuLyogIC0tTW9kYWwgaGFuZGxlcnMtLSAgKi9cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soeyBuYW1lLCBsaW5rIH0pIHtcclxuICBwb3B1cFdpdGhJbWFnZS5vcGVuKHsgbmFtZSwgbGluayB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdCh7IHRpdGxlOiBuYW1lLCB1cmw6IGxpbmsgfSkge1xyXG4gIGFkZENhcmRQb3B1cC5zZXRTYXZpbmcodHJ1ZSk7XHJcbiAgYXBpXHJcbiAgICAuY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmsgfSlcclxuICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChkYXRhKTtcclxuICAgICAgY2FyZFNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XHJcbiAgICAgIGFkZENhcmRQb3B1cC5jbG9zZSgpO1xyXG4gICAgICBhZGRNb2RhbEZvcm0ucmVzZXQoKTtcclxuICAgIH0pXHJcbiAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgICB9KVxyXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICBhZGRDYXJkUG9wdXAuc2V0U2F2aW5nKGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVCdXR0b24oY2FyZCkge1xyXG4gIGRlbGV0ZVBvcHVwLmNhcmQgPSBjYXJkO1xyXG4gIGRlbGV0ZVBvcHVwLm9wZW4oKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyU3VibWl0KGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGF2YXRhckxpbmsgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1zcmNcIikudmFsdWU7XHJcbiAgZWRpdEF2YXRhclBvcHVwLnNldFNhdmluZyh0cnVlKTtcclxuICBhcGlcclxuICAgIC51cGRhdGVVc2VyQXZhdGFyKHsgYXZhdGFyOiBhdmF0YXJMaW5rIH0pXHJcbiAgICAudGhlbigocmVzKSA9PiB7XHJcbiAgICAgIHVzZXJJbmZvLnNldEF2YXRhclVybChyZXMuYXZhdGFyKTtcclxuICAgICAgZWRpdEF2YXRhclBvcHVwLmNsb3NlKCk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgZWRpdEF2YXRhclBvcHVwLnNldFNhdmluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogIC0tRXZlbnQgbGlzdGVuZXJzLS0gICovXHJcblxyXG5lZGl0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgY29uc3QgdXRkVXNlckluZm8gPSB1c2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVQb3B1cC5zZXRJbnB1dFZhbHVlcyh7XHJcbiAgICBuYW1lOiB1dGRVc2VySW5mby5uYW1lLFxyXG4gICAgZGVzY3JpcHRpb246IHV0ZFVzZXJJbmZvLmRlc2NyaXB0aW9uLnRyaW0oKSxcclxuICB9KTtcclxuICBwcm9maWxlUG9wdXAub3BlbigpO1xyXG59KTtcclxuXHJcbmFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGFkZENhcmRQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG5cclxucHJvZmlsZUF2YXRhckNvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGVkaXRBdmF0YXJQb3B1cC5vcGVuKCk7XHJcbn0pO1xyXG4vKiAgLS1Gb3JtIHZhbGlkYXRpb24tLSAgKi9cclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKGNvbmZpZykgPT4ge1xyXG4gIGNvbnN0IGZvcm1MaXN0ID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5mb3JtU2VsZWN0b3IpKTtcclxuICBmb3JtTGlzdC5mb3JFYWNoKChmb3JtRWwpID0+IHtcclxuICAgIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgZm9ybUVsKTtcclxuICAgIGNvbnN0IGZvcm1OYW1lID0gZm9ybUVsLmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XHJcbiAgICBmb3JtVmFsaWRhdG9yc1tmb3JtTmFtZV0gPSB2YWxpZGF0b3I7XHJcbiAgICB2YWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZW5hYmxlVmFsaWRhdGlvbihjb25maWcpO1xyXG5cclxuLyogICAgICAtLS1GRVRDSCBBUEkgREFUQS0tLSAgICAgICovXHJcbi8qICAtRmV0Y2ggaW5pdGlhbCBkYXRhIGFuZCByZW5kZXIgY2FyZHMtICovXHJcbmFwaVxyXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxyXG4gIC50aGVuKChjYXJkcykgPT4ge1xyXG4gICAgY29uc29sZS5sb2coY2FyZHMpO1xyXG4gICAgY2FyZHMuZm9yRWFjaCgoY2FyZCkgPT4ge1xyXG4gICAgICBjYXJkU2VjdGlvbi5hZGRJdGVtKGNyZWF0ZUNhcmQoY2FyZCkpO1xyXG4gICAgfSk7XHJcbiAgfSlcclxuICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xyXG4gIH0pO1xyXG5cclxuLyogIC1GZXRjaCB1c2VyIGluZm8gYW5kIHNldCBpdCBpbiBVc2VySW5mby0gICovXHJcbmFwaVxyXG4gIC5nZXRVc2VySW5mbygpXHJcbiAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHtcclxuICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5hYm91dCxcclxuICAgIH0pO1xyXG4gICAgdXNlckluZm8uc2V0QXZhdGFyVXJsKGRhdGEuYXZhdGFyKTtcclxuICB9KVxyXG4gIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICBjb25zb2xlLmVycm9yKGVycik7XHJcbiAgfSk7XHJcbiIsIi8qIFByb2plY3QgOSBPdmVydmlldzpcclxuXHJcbjEuIEFjcXVpcmUgcGVyc29uYWwgdG9rZW5cclxuMi4gQ3JlYXRlIG5ldyBicmFuY2hcclxuICAgIC0gXCJnaXQgY2hlY2tvdXQgLWIgcHJvamVjdC05XCJcclxuMy4gUGFzcyB0aGUgdG9rZW4gdGhyb3VnaCBcIkFyb3VuZCB0aGUgVVNcIiBwcm9qZWN0IHNlcnZlciAob24gcHJvamVjdCBwYWdlKVxyXG40LiBDcmVhdGUgQXBpIGNsYXNzXHJcbiAgICAtIEFsbCByZXF1ZXN0cyBzaG91bGQgYmUgbWV0aG9kcyBpbiB0aGlzIGNsYXNzXHJcbiAgICAtIFVzZXIgcm91dGVzOlxyXG5cdEdFVCAvdXNlcnMvbWUgKGdldCBjdXJyZW50IHVzZXIncyBpbmZvKVxyXG5cdFBBVENIIC91c2Vycy9tZSAodXBkYXRlIHByb2ZpbGUgaW5mbylcclxuXHRQQVRDSCAvdXNlcnMvbWUvYXZhdGFyICh1cGRhdGUgYXZhdGFyKVxyXG4gICAgLSBDYXJkIHJvdXRlczpcclxuXHRHRVQgL2NhcmRzIChnZXQgYWxsIGNhcmRzKVxyXG5cdFBPU1QgL2NhcmRzIChjcmVhdGUgYSBjYXJkKVxyXG5cdERFTEVURSAvY2FyZHMvOmNhcmRJZCAoZGVsZXRlIGEgY2FyZClcclxuXHRQVVQgL2NhcmRzLzpjYXJkSWQvbGlrZXMgKGxpa2UgYSBjYXJkKVxyXG5cdERFTEVURSAvY2FyZHMvOmNhcmRJZC9saWtlcyAoZGlzbGlrZSBhIGNhcmQpXHJcbjUuIFNlZSBwcm9qZWN0IHBhZ2UgZm9yIGRldGFpbHNcclxuKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xyXG4gICAgdGhpcy5iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xyXG4gICAgdGhpcy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrUmVzcG9uc2UocmVzKSB7XHJcbiAgICBpZiAocmVzLm9rKSB7XHJcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xyXG4gIH1cclxuXHJcbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgIH0pLnRoZW4odGhpcy5fY2hlY2tSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdXBkYXRlVXNlckluZm8oZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuZGVzY3JpcHRpb24sXHJcbiAgICAgIH0pLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhcixcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS50aXRsZSxcclxuICAgICAgICBsaW5rOiBkYXRhLnVybCxcclxuICAgICAgfSksXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQVVRcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVubGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy9saWtlcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcclxuICB9XHJcbn1cclxuIiwiLy8gVGhlIFVzZXJJbmZvIGNsYXNzIGlzIHJlc3BvbnNpYmxlIGZvciByZW5kZXJpbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgb24gdGhlIHBhZ2UuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgLy8gVGFrZSBhbiBvYmplY3Qgd2l0aCB0aGUgc2VsZWN0b3JzIG9mIHR3byBlbGVtZW50cyBpbnRvIHRoZSBjb25zdHJ1Y3Rvcjogb25lIGZvciB0aGUgcHJvZmlsZeKAmXMgbmFtZVxyXG4gIC8vIGVsZW1lbnQgYW5kIG9uZSBmb3IgaXRzIGpvYiBlbGVtZW50LlxyXG4gIGNvbnN0cnVjdG9yKHsgcHJvZmlsZU5hbWVTZWxlY3RvciwgcHJvZmlsZUpvYlNlbGVjdG9yLCBhdmF0YXJTZWxlY3RvciB9KSB7XHJcbiAgICB0aGlzLl9wcm9maWxlTmFtZUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlTmFtZVNlbGVjdG9yKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbkVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwcm9maWxlSm9iU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5fYXZhdGFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGF2YXRhclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIC8vIEhhdmUgYSBwdWJsaWMgbWV0aG9kIG5hbWVkIGdldFVzZXJJbmZvKCksIHdoaWNoIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIuXHJcbiAgLy8gVGhpcyBtZXRob2Qgd2lsbCBiZSBoYW5keSBmb3IgY2FzZXMgd2hlbiBpdCdzIG5lY2Vzc2FyeSB0byBkaXNwbGF5IHRoZSB1c2VyIGRhdGEgaW4gdGhlIG9wZW4gZm9ybS5cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcclxuICAgICAgXCJHZXR0aW5nIHVzZXIgaW5mbzpcIixcclxuICAgICAgdGhpcy5fcHJvZmlsZU5hbWVFbC50ZXh0Q29udGVudCxcclxuICAgICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQsXHJcbiAgICAgIHRoaXMuX2F2YXRhckVsID8gdGhpcy5fYXZhdGFyRWwuc3JjIDogXCJBdmF0YXIgZWxlbWVudCBub3QgZm91bmQuXCJcclxuICAgICk7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZUVsLnRleHRDb250ZW50LFxyXG4gICAgICBkZXNjcmlwdGlvbjogdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQsXHJcbiAgICAgIGF2YXRhcjogdGhpcy5fYXZhdGFyRWwsXHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLy8gSGF2ZSBhIHB1YmxpYyBtZXRob2QgbmFtZWQgc2V0VXNlckluZm8oKSwgd2hpY2ggdGFrZXMgbmV3IHVzZXIgZGF0YSBhbmQgYWRkcyBpdCB0byB0aGUgcGFnZS5cclxuICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgYmUgdXNlZCBhZnRlciBzdWNjZXNzZnVsIHN1Ym1pc3Npb24gb2YgdGhlIHByb2ZpbGUgZm9ybS5cclxuXHJcbiAgc2V0VXNlckluZm8oeyBuYW1lLCBkZXNjcmlwdGlvbiB9KSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlNldHRpbmcgdXNlciBpbmZvXCIsIG5hbWUsIGRlc2NyaXB0aW9uKTtcclxuICAgIHRoaXMuX3Byb2ZpbGVOYW1lRWwudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uRWwudGV4dENvbnRlbnQgPSBkZXNjcmlwdGlvbjtcclxuICB9XHJcblxyXG4gIHNldEF2YXRhclVybChhdmF0YXIpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiU2V0dGluZyBhdmF0YXIgdXJsXCIsIGF2YXRhcik7XHJcbiAgICBpZiAoYXZhdGFyKSB7XHJcbiAgICAgIHRoaXMuX2F2YXRhckVsLnNyYyA9IGF2YXRhcjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJBdmF0YXIgZWxlbWVudCBub3QgZm91bmQuXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuICAvLyBDcmVhdGUgYW4gaW5zdGFuY2Ugb2YgdGhlIFVzZXJJbmZvIGNsYXNzIGluIGluZGV4LmpzIGFuZCB1c2UgaXRzIG1ldGhvZHMgYXMgZGVzY3JpYmVkLlxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuLy8gQ3JlYXRlIG9uZSBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGluIGluZGV4LmpzIGFuZCBjYWxsIGl0cyBwYXJlbnTigJlzIHNldEV2ZW50TGlzdGVuZXJzKCkgbWV0aG9kLlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wb3B1cC1tb2RhbF9fdGl0bGVcIik7XHJcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBvcHVwLW1vZGFsX19pbWFnZVwiKTtcclxuICB9XHJcblxyXG4gIC8vIFRoaXMgY2xhc3Mgd2lsbCBuZWVkIHRvIG92ZXJyaWRlIHRoZSBwYXJlbnTigJlzIG9wZW4oKSBtZXRob2QuIFRoZSBvcGVuKCkgbWV0aG9kIG9mIHRoZSBQb3B1cFdpdGhJbWFnZVxyXG4gIC8vIGNsYXNzIHdpbGwgbmVlZCB0byBhY2NlcHQgdGhlIG5hbWUgYW5kIGxpbmsgb2YgdGhlIGNhcmQgYXMgYXJndW1lbnRzIGFuZCBhZGQgYW4gaW1hZ2UgdG8gdGhlIHBvcHVwXHJcbiAgLy8gYW5kIHRoZSBjb3JyZXNwb25kaW5nIGltYWdlIHNyYyBhdHRyaWJ1dGUgYWxvbmcgd2l0aCBhIGNhcHRpb24gZm9yIHRoZSBpbWFnZS4gVGhpcyBtZXRob2Qgc2hvdWxkXHJcbiAgLy8gYmUgY2FsbGVkIGluIHlvdXIgaW1hZ2UgY2xpY2sgaGFuZGxlciBpbiBpbmRleC5qcy5cclxuXHJcbiAgb3Blbih7IG5hbWUsIGxpbmsgfSkge1xyXG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNlY3Rpb24ge1xyXG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICAvLyBUaGUgaXRlbXMgcHJvcGVydHkgc2hvdWxkIGJlIGFuIGFycmF5IG9mIGRhdGEsIHdoaWNoIHlvdSBtdXN0IGFkZCB0byB0aGUgcGFnZSB3aGVuIGl0IGxvYWRzLlxyXG4gICAgLy8gVGhlIHJlbmRlcmVyIHByb3BlcnR5IHNob3VsZCBiZSBhIGZ1bmN0aW9uIHRoYXQgY3JlYXRlcyBhbmQgYWRkcyBhIHNpbmdsZSBpdGVtIHRvIHRoZSBwYWdlLlxyXG5cclxuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICAvLyBJdCBoYXMgYSBwdWJsaWMgbWV0aG9kIG5hbWVkIHJlbmRlckl0ZW1zKCkgdGhhdCByZW5kZXJzIGFsbCBlbGVtZW50cyBvbiB0aGUgcGFnZS5cclxuICAvLyBJdCBzaG91bGQgaXRlcmF0ZSB0aHJvdWdoIHRoZSBpdGVtcyBhcnJheSBhbmQgY2FsbCB0aGUgcmVuZGVyZXIoKSBmdW5jdGlvbiBvbiBlYWNoIGl0ZW0uXHJcbiAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCBvbmNlIG9uIHBhZ2UgbG9hZC5cclxuXHJcbiAgcmVuZGVySXRlbXMoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIlJlbmRlcmluZyBpdGVtc1wiKTtcclxuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgICB0aGlzLmFkZEl0ZW0oZWxlbWVudCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEl0IGhhcyBhIHB1YmxpYyBtZXRob2QgbmFtZWQgYWRkSXRlbSgpIHRoYXQgdGFrZXMgYSBET00gZWxlbWVudCBhbmQgYWRkcyBpdCB0byB0aGUgY29udGFpbmVyLlxyXG4gIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBiZSBjYWxsZWQgd2hlbiBhZGRpbmcgYW4gaW5kaXZpZHVhbCBjYXJkIHRvIHRoZSBET00uXHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJfcmVmIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUJ1dHRvbiIsIm5hbWUiLCJsaW5rIiwiX2lkIiwidGhpcyIsIl9uYW1lIiwiX2xpbmsiLCJfY2FyZFNlbGVjdG9yIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQnV0dG9uIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VCdXR0b24iLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJfZGVsZXRlQnV0dG9uIiwiX2NhcmRJbWFnZUVsIiwiY2xhc3NMaXN0IiwidG9nZ2xlIiwicmVtb3ZlQ2FyZCIsIl9jYXJkRWwiLCJyZW1vdmUiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGVFbCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwiRm9ybVZhbGlkYXRvciIsImNvbmZpZyIsImZvcm1FbCIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0cyIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfc3VibWl0QnV0dG9uIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJpbnB1dCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJzb21lIiwiZXJyb3JFbCIsImlkIiwiZXJyb3JNZXNzYWdlIiwiYWRkIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiX2Rpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsInNldEV2ZW50TGlzdGVuZXJzIiwiZm9yRWFjaCIsImVuYWJsZVZhbGlkYXRpb24iLCJlIiwicHJldmVudERlZmF1bHQiLCJyZXNldFZhbGlkYXRpb24iLCJQb3B1cCIsInBvcHVwU2VsZWN0b3IiLCJfcG9wdXBFbGVtZW50IiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsIm9wZW4iLCJjbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBTYXZlIiwiX2dldElucHV0VmFsdWVzIiwiZm9ybURhdGEiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwiZGF0YSIsInNldFNhdmluZyIsImlzU2F2aW5nIiwiZWRpdEJ1dHRvbiIsInByb2ZpbGVBdmF0YXJDb250YWluZXIiLCJmb3JtcyIsImFkZEJ1dHRvbiIsImFkZE1vZGFsRm9ybSIsImFwaSIsIm9wdGlvbnMiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9jaGVja1Jlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImdldFVzZXJJbmZvIiwidXBkYXRlVXNlckluZm8iLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiZGVzY3JpcHRpb24iLCJ1cGRhdGVVc2VyQXZhdGFyIiwiYXZhdGFyIiwiY3JlYXRlQ2FyZCIsInRpdGxlIiwidXJsIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImxpa2VDYXJkIiwidW5saWtlQ2FyZCIsImF1dGhvcml6YXRpb24iLCJ1c2VySW5mbyIsInByb2ZpbGVOYW1lU2VsZWN0b3IiLCJwcm9maWxlSm9iU2VsZWN0b3IiLCJhdmF0YXJTZWxlY3RvciIsIl9wcm9maWxlTmFtZUVsIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbkVsIiwiX2F2YXRhckVsIiwiY29uc29sZSIsImxvZyIsInNldFVzZXJJbmZvIiwiX3JlZjIiLCJzZXRBdmF0YXJVcmwiLCJlcnJvciIsInByb2ZpbGVQb3B1cCIsImNhdGNoIiwiZXJyIiwiZmluYWxseSIsImFkZENhcmRQb3B1cCIsImNhcmRFbGVtZW50IiwiY2FyZFNlY3Rpb24iLCJhZGRJdGVtIiwiZGVsZXRlUG9wdXAiLCJjYXJkIiwicG9wdXBXaXRoSW1hZ2UiLCJfdGl0bGUiLCJfaW1hZ2UiLCJlZGl0QXZhdGFyUG9wdXAiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJjYXJkRGF0YSIsInV0ZFVzZXJJbmZvIiwidHJpbSIsImZvcm1WYWxpZGF0b3JzIiwiZm9ybVNlbGVjdG9yIiwidmFsaWRhdG9yIiwiZm9ybU5hbWUiLCJnZXRBdHRyaWJ1dGUiLCJjYXJkcyJdLCJzb3VyY2VSb290IjoiIn0=